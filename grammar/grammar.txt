expr    : KEYWORD:sea IDENTIFIER EQ expr \\ lowest priority
        : comp (KEYWORD:y|KEYWORD:o) comp)*

comp    : NOT comp
        : math (EE|LT|GT|LTE|GTE) math)*

math    : term ((PLUS|MINUS) term)* 

term    : factor ((MUL|DIV|MOD) factor)*

factor  : (PLUS|MINUS) factor
        : power

power   : call (POW factor)*

call    : atom (LPAREN (expr (COMMA expr)*)? RPAREN)?

atom    : INT | FLOAT | IDENTIFIER | KEYWORD:cierto | KEYWORD:falso | KEYWORD:nada | STRING
        : LPAREN expr RPAREN
        : if
        : while
        : stat
        : define

if      : KEYWORD:si expr KEYWORD:entonces expr
        (KEYWORD:si no expr KEYWORD:entonces expr)*
        (KEYWORD:sino expr)?

for     : KEYWORD:para IDENTIFIER EQ expr KEYWORD:hasta expr
        (KEYWORD:paso expr)? KEYWORD:entonces expr

while   : KEYWORD:mientras expr KEYWORD:entonces expr

define  : KEYWORD:define IDENTIFIER?
        : LPAREN (IDENTIFIER (COMMA IDENTIFIER)*)? RPAREN
        : ARROW expr
        : LBRACE expr RBRACE

stat    : KEYWORD:si expr LBRACE expr RBRACE